<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr-fr" itemscope="" itemtype="http://schema.org/Blog">
  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline'; frame-src 'self' https://apis.google.com https://accounts.google.com; script-src 'self' http://code.jquery.com http://www.google-analytics.com https://apis.google.com; img-src 'self' http://www.google-analytics.com">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <meta name="description" content="Blog sur la qualité web en général, et l'automatisation de test web en particulier. Responsable tests et qualité web depuis 7 ans." />
  <meta name="keywords" content="test, watir, qualité, cucumber, jenkins, bug, selenium, appium, bournisien" />
  <meta name="robots" content="index,follow" />


  
    <title>Je teste donc je suis - Journal d'un testeur</title>
    <meta property="og:title" content="Je teste donc je suis" />
    <meta property="og:url" content="https://blog.fabricebournisien.eu/" />
    <meta property="og:type" content="website" />
  


  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">

  <!-- Icons -->
  <link rel="shortcut icon" type="image/png" href="/public/qualite-min.jpg">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <link rel="stylesheet" href="/public/fancybox/jquery.fancybox.css" type="text/css" media="screen" />

  <meta property="og:image"  content="/public/pictures/web-qualite.jpg"/>
  <meta itemprop="image"     content="/public/pictures/web-qualite.jpg" />
  <meta name="twitter:image" content="/public/pictures/web-qualite.jpg" />  
</head>

  <body class="theme-base-0c layout-reverse">
    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Je teste donc je suis
        </a>
      </h1>
      <p class="lead">Blog d'un automatiseur de tests web.</p>
    </div>

    <nav class="sidebar-nav">
      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/archive/">Archives</a>
          
        
      
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
	  <a class="sidebar-nav-item" href="http://www.fabricebournisien.eu">CV</a>
	  <!-- SiteSearch Google --> 
	  <form method="get" action="http://www.google.com/search"> 
		<input type="hidden" name="ie" value="UTF-8" /> 
		<input type="hidden" name="oe" value="UTF-8" /> 
		<input type="hidden" name="domains" value="blog.fabricebournisien.eu" /> 
		<input type="hidden" name="sitesearch" value="blog.fabricebournisien.eu" checked="checked" />
		<input type="text" name="q" size="18" maxlength="255" value="" title="Chercher sur le blog" />
		<input type="submit" name="btnG" value="Chercher" /> 
	  </form>
	  <!-- SiteSearch Google -->
    </nav>

    <p>&copy; 2019 - <a href="https://plus.google.com/104493142924184161356" rel="author">Fabrice Bournisien</a></p>
  </div>
</div>

    <div class="content container">
      <div class="posts">
  
  <div class="post" itemscope="" itemtype="http://schema.org/BlogPosting">
    <h2 class="post-title" itemprop="name">
      <a href="/2012/12/06/tester-un-site-multilingue/" itemprop="url" rel="bookmark">
        Tester un site multilingue
      </a>
    </h2>

	<span class="post-date">
		<time class="date" datetime="2012-12-06" itemprop="datePublished">
			
			6
			décembre
			
			2012
		</time>
		- par Fabrice Bournisien
		
		- <a href="/tag/test">Test</a>
		
		- <a href="/tag/watir">Watir</a>
		
	</span>

	<div itemprop="ArticleBody"><p>Travailler sur un site international demande de multiplier les tests.</p>

<p>D&#39;abord, si l&#39;interface change, il est parfois intéressant de la tester dans chaque langue. Dans mon cas, ce n&#39;est pas fait. Le principal risque des &quot;langues&quot; est l&#39;affichage des textes (du point de vue design), ce qui ne peut pas être testé de façon automatique. Pour cela, une équipe multilangue qui vérifie les modifications et leurs impacts est plus réaliste.</p>

<p>L&#39;autre aspect important, c&#39;est l&#39;accès au site en fonction de la langue. Si vous avez une stratégie de redirection en fonction de la langue, il faut pouvoir le tester. J&#39;ai l&#39;impression que cela m&#39;a pris du temps, alors qu&#39;au final, c&#39;est tout simple. Mais j&#39;ai exploré beaucoup de pistes sur le sujet.</p>

<h3>Le test</h3>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">TestProductionFrench</span> <span class="o">&lt;</span> <span class="no">Test</span><span class="o">::</span><span class="no">Unit</span><span class="o">::</span><span class="no">TestCase</span>
  <span class="k">def</span> <span class="nf">setup</span>
    <span class="n">profile</span> <span class="o">=</span> <span class="no">Selenium</span><span class="o">::</span><span class="no">WebDriver</span><span class="o">::</span><span class="no">Firefox</span><span class="o">::</span><span class="no">Profile</span><span class="p">.</span><span class="nf">new</span>
    <span class="n">profile</span><span class="p">[</span><span class="s1">'intl.accept_languages'</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"it"</span>
    <span class="vi">@browser</span> <span class="o">=</span> <span class="no">Watir</span><span class="o">::</span><span class="no">Browser</span><span class="p">.</span><span class="nf">new</span> <span class="ss">:firefox</span><span class="p">,</span> <span class="ss">:profile</span> <span class="o">=&gt;</span> <span class="n">profile</span>
  <span class="k">end</span>
  <span class="k">def</span> <span class="nf">teardown</span>
    <span class="vi">@browser</span><span class="p">.</span><span class="nf">close</span>
  <span class="k">end</span>
  <span class="k">def</span> <span class="nf">test_redirection_it</span>
    <span class="vi">@browser</span><span class="p">.</span><span class="nf">goto</span><span class="p">(</span><span class="s2">"http://www.google.com"</span><span class="p">)</span>
    <span class="n">assert_equal</span><span class="p">(</span><span class="s2">"http://www.google.it"</span><span class="p">,</span> <span class="vi">@browser</span><span class="p">.</span><span class="nf">url</span><span class="p">)</span>
  <span class="k">end</span>
  <span class="k">def</span> <span class="nf">test_redirection_fr</span>
    <span class="vi">@browser</span><span class="p">.</span><span class="nf">goto</span><span class="p">(</span><span class="s2">"http://www.google.fr"</span><span class="p">)</span>
    <span class="n">assert_equal</span><span class="p">(</span><span class="s2">"http://www.google.it"</span><span class="p">,</span> <span class="vi">@browser</span><span class="p">.</span><span class="nf">url</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></div>

<h3>L&#39;explication</h3>

<p>Pour ce test, je n&#39;ai pas utilisé cucumber, ou autre, mais juste la librairie unitest de ruby, et watir.</p>

<ul>
<li>Ligne 3 à 7 : le setup, joué avant chaque test. On crée un nouveau profil pour Firefox, contenant l&#39;attribut de langue voulu. Puis on charge Firefox.</li>
<li>Ligne 9 à 11 : le teardown, qui ferme le navigateur après chaque test.</li>
<li>Ligne 13 à 16 : premier test : on charge google.com, et on vérifie ensuite qu&#39;on a bien été redirigé vers google.it (puisque le navigateur signale une préférence pour cette langue)</li>
<li>Ligne 18 à 21 : second test, depuis google.fr</li>
</ul>

<h3>Pourquoi j&#39;ai perdu du temps</h3>

<p>J&#39;ai perdu du temps à faire fonctionner cela, pour la simple et bonne raison que cela ne marchait pas, et que mes tests testaient donc &quot;mal&quot;. La tête dans le guidon, je n&#39;ai pas testé que le fonctionnement du changement de langue soit juste. Je cherchais à corriger le problème là où il n&#39;était pas.</p>

<p>Quelques rappels :</p>

<ul>
<li>Changer la langue préférée pour l&#39;affichage des pages de Firefox ne change pas la langue du navigateur.undefinedundefined</li>
<li>Il est facile d&#39;afficher une page qui vous donne la langue préférée de votre navigateur. Voici un exemple de code en PHP :</li>
</ul>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
    <span class="nv">$lang</span> <span class="o">=</span> <span class="nb">substr</span><span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">'HTTP_ACCEPT_LANGUAGE'</span><span class="p">],</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
    <span class="k">echo</span> <span class="nv">$lang</span><span class="p">;</span></code></pre></div>
</div>
  </div>
  
  <div class="post" itemscope="" itemtype="http://schema.org/BlogPosting">
    <h2 class="post-title" itemprop="name">
      <a href="/2012/10/30/une-petite-boulette-peut-couter-cher/" itemprop="url" rel="bookmark">
        Une petite boulette peut coûter cher
      </a>
    </h2>

	<span class="post-date">
		<time class="date" datetime="2012-10-30" itemprop="datePublished">
			
			30
			octobre
			  
			2012
		</time>
		- par Fabrice Bournisien
		
		- <a href="/tag/test">Test</a>
		
		- <a href="/tag/watir">Watir</a>
		
	</span>

	<div itemprop="ArticleBody"><p>Comme je l&#39;ai déjà dit, je développe des tests sous cucumber / watir pour un gros projet. J&#39;ai quelques centaines de scénarios, des milliers d&#39;étapes, le tout regroupé par fonctionnalité. Cela nous permet de voir rapidement si on peut mettre en prod ou non : si une fonctionnalité est testée &quot;instable&quot;, il faut lire le rapport détaillé.
Deux anecdotes récentes à ce sujet.</p>

<h3>Le bug est détecté</h3>

<p>L&#39;un des tests fonctionnels crée il y a une semaine pour détecter un bug existant permettait d&#39;éviter la non régression sur ce point. Ce matin, je peste à voix haute en parlant à un collègue, et un autre me dit &quot;mais je l&#39;ai corrigé vendredi&quot;. Après test manuel, je confirme, le bug n&#39;est plus présent. Pourtant, le test ne fonctionne pas.</p>

<p>Commence alors une rapide enquête pour comprendre.</p>

<p>Le bug : si un utilisateur remplit un champ particulier, tout semble marcher quand il sauve. Pourtant, si on rafraichit la page, on voit que cela ne marche pas.</p>

<p>Le test a été mis en place au moment du bug, et une partie du test n&#39;avait donc jamais été vérifiée avant la mise en service du test.</p>

<p>La correction a consisté à attendre que l&#39;élément testé soit bien affiché avant de le tester.</p>

<h3>J&#39;ai cru voir un petit bug</h3>

<p>Plus tôt cette semaine, un collègue me signale qu&#39;il faudrait ajouter un test sur une fonctionnalité particulière. On en discute, mais plus le temps passe, plus je suis sur que nous avons ajouté un test en ce sens récemment.</p>

<p>Après vérification, nous avons bien un test, mais il ne voit pas le bug. Il me laisse un peu de temps pour corriger le test avant de publier sa correction, cela a facilité le travail.</p>

<p>Durant le test, nous vérifions plusieurs éléments, en fonction des options passées.</p>

<p>Nous avons donc une suite de vérifications, en ruby+watir</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">find</span> <span class="o">=</span> <span class="n">find</span> <span class="n">and</span> <span class="p">(</span><span class="vi">@browser</span><span class="p">.</span><span class="nf">div</span><span class="p">.</span><span class="nf">img</span><span class="p">).</span><span class="nf">exists?</span>
<span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s1">'align'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'right'</span>
  <span class="n">find</span> <span class="o">=</span> <span class="n">find</span> <span class="n">and</span> <span class="p">(</span><span class="vi">@browser</span><span class="p">.</span><span class="nf">div</span><span class="p">.</span><span class="nf">img</span><span class="p">(</span><span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s1">'media-right'</span><span class="p">)).</span><span class="nf">exists?</span>
<span class="k">else</span>
  <span class="n">find</span> <span class="o">=</span> <span class="n">find</span> <span class="n">and</span> <span class="p">(</span><span class="vi">@browser</span><span class="p">.</span><span class="nf">div</span><span class="p">.</span><span class="nf">img</span><span class="p">(</span><span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s1">'media-left'</span><span class="p">)).</span><span class="nf">exists?</span>
<span class="k">end</span></code></pre></div>

<p>Pour traduire : On vérifie qu&#39;une image est présente, puis si l&#39;option alignement est &quot;droite&quot;, je vérifie que l&#39;image est aligné à droite. Sinon, je vérifie à gauche.</p>

<p>Le problème ? Ce test ne teste rien. Tout simplement parce que le parenthésage est mauvais.</p>

<p>En ruby, le and est prioritaire sur le .exists. Je teste donc l&#39;existence d&#39;un booléen au lieu de tester deux booléens.</p>

<p>Le code corrigé ajoute juste des parenthèses pour changer la priorité.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">find</span> <span class="o">=</span> <span class="n">find</span> <span class="o">&amp;&amp;</span> <span class="p">((</span><span class="vi">@browser</span><span class="p">.</span><span class="nf">div</span><span class="p">.</span><span class="nf">img</span><span class="p">).</span><span class="nf">exists?</span><span class="p">)</span>
<span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s1">'align'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'right'</span>
  <span class="n">find</span> <span class="o">=</span> <span class="n">find</span> <span class="o">&amp;&amp;</span> <span class="p">((</span><span class="vi">@browser</span><span class="p">.</span><span class="nf">div</span><span class="p">.</span><span class="nf">img</span><span class="p">(</span><span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s1">'media-right'</span><span class="p">)).</span><span class="nf">exists?</span><span class="p">)</span>
<span class="k">else</span>
  <span class="n">find</span> <span class="o">=</span> <span class="n">find</span> <span class="o">&amp;&amp;</span> <span class="p">((</span><span class="vi">@browser</span><span class="p">.</span><span class="nf">div</span><span class="p">.</span><span class="nf">img</span><span class="p">(</span><span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s1">'media-left'</span><span class="p">)).</span><span class="nf">exists?</span><span class="p">)</span>
<span class="k">end</span></code></pre></div>

<h3>Conclusion</h3>

<p>Ce que je retiens de ces événements récents ?</p>

<ul>
<li>La communication dans l&#39;équipe est très importante.</li>
<li>Tester qu&#39;un test détecte une panne est complexe.</li>
<li>Il n&#39;y a pas de règle sur le bon moment pour créer un test : que ce soit pendant une panne ou en dehors, seul un contrôle régulier permet de s&#39;assurer que le test teste.</li>
</ul>
</div>
  </div>
  
  <div class="post" itemscope="" itemtype="http://schema.org/BlogPosting">
    <h2 class="post-title" itemprop="name">
      <a href="/2012/09/17/l-art-de-signaler-un-bug/" itemprop="url" rel="bookmark">
        L'art de signaler un bug
      </a>
    </h2>

	<span class="post-date">
		<time class="date" datetime="2012-09-17" itemprop="datePublished">
			
			17
			septembre
			  
			2012
		</time>
		- par Fabrice Bournisien
		
		- <a href="/tag/bug">Bug</a>
		
	</span>

	<div itemprop="ArticleBody"><p>Lorsqu&#39;un utilisateur lambda signale un bug, il a tendance à penser qu&#39;il est évident, et qu&#39;il n&#39;a pas besoin de donner des informations. On se retrouve alors à devoir analyser des mails ne contenant peu ou pas d&#39;informations, à leur demander des détails, ou à tester plusieurs cas possibles, en espérent &quot;tomber dessus par hasard&quot;.</p>

<p>Dans tous les cas, il y a beaucoup de temps &quot;perdu&quot; pour trouver un bug, qui parfois n&#39;est pas lié à votre site web, mais à tout autre chose : mauvaise manipulation, antivirus, etc.</p>

<p>Lorsqu&#39;on emmène sa voiture chez le garagiste, on lui donne souvent plein d&#39;informations inutiles. Je me souviens d&#39;une fois, où je suis arrivé pour lui dire : &quot;<em>je sais pas ce qu&#39;elle a : elle vibre quand je roule, les vibrations augmentent avec la vitesse. Et j&#39;ai du mal à passer les vitesses, comme si ce n&#39;était plus aligné.</em>&quot;</p>

<p>La garagiste a dit &quot;je pense que je sais&quot;, a été démarré la voiture sur le parking, puis a éteint et a répondu : &quot;<em>Supports moteurs HS : il va falloir les changer</em>&quot;. A peu de chose près, je pensais à Bourvil.</p>

<p>(Pour la petite histoire, 2 supports moteurs sur 3 cassés, à la fin d&#39;un voyage de 800km.)</p>

<iframe width="560" height="315" src="//www.youtube.com/embed/Ipl67KqEkWc?rel=0" frameborder="0" allowfullscreen></iframe>

<p>Mais alors, quelles informations donner lors du signalement d&#39;un bug ? toutes celles qui peuvent être utiles :</p>

<ul>
<li>Navigateur (et version : Firefox 3.5 et Firefox 14 se ressemblent, mais ne sont pas identique, loin de là)</li>
<li>Système d&#39;exploitation (non, Safari pour windows et pour mac ne se comportent pas de la même façon)</li>
<li>Antivirus (pas utile à chaque fois, mais c&#39;est quand il manque qu&#39;il est utile)</li>
<li>Messages d&#39;erreur : tous, en entier.</li>
<li>Procédure pour reproduire le bug : où cliquez-vous, dans quel ordre...</li>
</ul>

<p>Parfois, un bug se joue à un détail : vous cliquez sur le bouton, ou alors vous tabulez et validez au clavier ?</p>

<p>Plus vous donnez d&#39;informations précises, plus cela peut être utile à corriger le bug.</p>
</div>
  </div>
  
  <div class="post" itemscope="" itemtype="http://schema.org/BlogPosting">
    <h2 class="post-title" itemprop="name">
      <a href="/2012/07/19/les-logiciels-tiers-une-calamite/" itemprop="url" rel="bookmark">
        Les logiciels tiers, une calamité
      </a>
    </h2>

	<span class="post-date">
		<time class="date" datetime="2012-07-19" itemprop="datePublished">
			
			19
			juillet
			  
			2012
		</time>
		- par Fabrice Bournisien
		
		- <a href="/tag/bug">Bug</a>
		
	</span>

	<div itemprop="ArticleBody"><p>Lorsqu&#39;on rencontre des problèmes vraiment étranges sur une fonction particulière, on pense d&#39;abord que cela n&#39;a jamais pu marcher, on ne comprend plus.</p>

<p>Puis on enquête. Et parfois, la cause du problème est une surprise, autant pour nous que pour les personnes touchées. Quelques exemples plus ou moins vieux.</p>

<h3>La box qui coupe</h3>

<p>Petit retour sur l&#39;article : Les bugs poilus sont-ils solubles dans le temps ?</p>

<p>Au début, il s&#39;agissait d&#39;un simple problème de validation de formulaire AJAX pour une partie des utilisateurs. Ils emblaient tous utiliser une LiveBox. Nous avons éliminé cette piste au bout de plusieurs jours, certains cas ne collant pas.</p>

<p>Mais au final, il semble que ce problème qui nous a occupé pendant plus d&#39;un mois était bien une mise à jour de la LiveBox : la mise à jour suivante a corrigé le problème.</p>

<h3>L&#39;antivirus anti web</h3>

<p>En général, je ne cite pas, mais cela fait trop de fois où nous rencontrons des problèmes avec Kaspersky.</p>

<p>Deux points sans rapport, tous les deux liés à des classiques du web.</p>

<ul>
<li><p>Lorsque vous envoyez une photo via certains protocoles, on a un comportement aléatoire :</p>

<ul>
<li>Images non envoyées</li>
<li>Images envoyées de façon incomplète.</li>
</ul>

<p>Evidemment, il suffit de désactiver Kaspersky pour que cela fonctionne. Selon les navigateurs, nous utilisons le protocole PUT ou le protocole GET. si le get fonctionne, le put pose de nombreux problèmes.</p></li>
<li><p>Les notifications, très utilisées sur les réseaux sociaux, sont dégradées : le nombre de notifications n&#39;est pas mis à jour après leur lecture, en particulier sur Google+. Là encore, désactiver l&#39;antivirus suffit à régler le problème.</p></li>
</ul>

<p><img src="/public/pictures/2012/bug-kaspersky-notif.jpg" alt="Toutes les notifications ont été lues, et pourtant"></p>

<h3>La navigation compatible</h3>

<p>Lorsqu&#39;on utilise Internet Explorer, il lui arrive de décider d&#39;utiliser le mode compatible sur certains sites. Un utilisateur qui ne fait pas attention pensera utiliser la dernière version du navigateur, mais aura entre les mains un navigateur se comportant comme IE7 ou IE8 dans le meilleur des cas.</p>

<p>Les éditeurs wysiwyg sont particulièrement concernés par ce genre de problème, mais ce ne sont pas les seuls.</p>

<p>Lorsqu&#39;on sait en outre que le mode compatible IE8 est différent d&#39;IE8, on sait qu&#39;on va s&#39;arracher les cheveux pour trouver la cause du problème.</p>

<h3>Le plugin défaillant</h3>

<p>Les navigateurs sont depuis plusieurs années extensibles : on peut ajouter des fonctionnalités plus ou moins intéressantes. La plupart des développeurs ont installé FireBug par exemple.</p>

<p>Revenons à celle qui me pose problème : &quot;Facebook Disconnect&quot;. Cette extension sous chrome permet d&#39;empêcher Facebook de vous traquer. En contre partie, elle bloque des scripts, sans vous demander votre avis. Un exemple ? notre éditeur wysiwym. Ce n&#39;est apparement pas la seule à bloquer l&#39;éditeur, mais la récupération des informations auprès de nos utilisateurs prend beaucoup de temps sur des problèmes aussi pointus.</p>

<h3>Conclusion</h3>

<p>Les mises à jour automatiques sont une plaie : les utilisateurs ne comprennent pas pourquoi le comportement change sans modification, et pense systématiquement à un problème du produit concerné, pas d&#39;un logiciel tiers.</p>

<p>Certains logiciels s&#39;adjugent des pouvoirs très importants, sans le signaler à leurs utilisateurs, dégradant par la même occasion la navigation sur des sites web qui fonctionnent pourtant parfaitement par ailleurs.</p>
</div>
  </div>
  
  <div class="post" itemscope="" itemtype="http://schema.org/BlogPosting">
    <h2 class="post-title" itemprop="name">
      <a href="/2012/06/18/les-tests-doivent-ils-tester/" itemprop="url" rel="bookmark">
        Les tests doivent-ils tester ?
      </a>
    </h2>

	<span class="post-date">
		<time class="date" datetime="2012-06-18" itemprop="datePublished">
			
			18
			juin
			  
			2012
		</time>
		- par Fabrice Bournisien
		
		- <a href="/tag/qualite">Qualite</a>
		
		- <a href="/tag/test">Test</a>
		
	</span>

	<div itemprop="ArticleBody"><h3>Le juste équilibre dans les tests</h3>

<p>Mettre en place des <strong>tests fonctionnels automatiques</strong> revient à jouer à l&#39;équilibriste entre l&#39;existant (déjà testé et &quot;stable&quot;), les nouvelles fonctionnalités (et leurs effets de bords sur l&#39;existant), et des eléments externes : navigateurs (et mises à jours), plugins, utilisateurs...</p>

<p>Le responsable qualité et l&#39;équipe doivent avoir confiance dans leurs indicateurs, et doivent connaître leurs limites, afin de pouvoir planifier les actions pour éliminer les bugs.</p>

<h3>Des tests toujours réussis</h3>

<p>J&#39;ai lu récemment que des tests fonctionnels toujours &quot;vert&quot; sont mauvais, qu&#39;ils ne testent rien. (<a href="http://experttesters.com/2012/05/17/why-100-test-pass-rates-are-bad/">Why 100% Test Pass rates are Bad</a>)</p>

<p>Je ne suis pas d&#39;accord : j&#39;ai la hantise de tests &quot;rouge&quot; : à chaque fois, cela demande d&#39;aller analyser le rapport, vérifier si c&#39;est un faux positif. (Cela arrive régulièrement : même en prévoyant au mieux, il arrive qu&#39;une action dépasse le temps prévue pour s&#39;exécuter, etc.)</p>

<h4>Les tests doivent être toujours vert</h4>

<p>Si votre écran de contrôle affiche toujours du rouge, vous finirez pas ne plus lui faire confiance. Le problème, c&#39;est que si vous n&#39;avez pas confiance dans des tests automatisés, c&#39;est que vous perdrez du temps à les refaire à la main. Et que lorsqu&#39;ils passeront au rouge, vous penserez à un faux positif avant même de regarder, et vous pourriez laisser passer un bug.</p>

<h4>L&#39;important n&#39;est pas la couleur, mais la couverture</h4>

<p>Je préfère avoir une couverture de 50% fiable qu&#39;une plus grande couverture mais instable. Il faut bien comprendre qu&#39;un test vert ne dit pas &quot;il n&#39;y a pas de bug sur ce projet&quot;, mais plutôt &quot;aucun bug prévu n&#39;a été trouvé cette fois-ci&quot;. La différence semble tenue, mais elle est primordiale.</p>

<p>L&#39;équipe doit savoir si les tests ont des lacunes, afin de redoubler d&#39;effort &quot;manuels&quot; dans cette partie. Il ne faut jamais oublier que les tests automatiques ne testent pas tout le projet, mais seulement ce qu&#39;ils sont sensés tester.</p>

<p><img src="/public/pictures/2012/screen_tests.jpg" title="Ecran de contrôle" style="width: 200px; float: left;"/>
<img src="/public/pictures/2012/cucumber-report.png" title="Résultats de tests cucumber" style="width: 200px; float: left;"/>
<img src="/public/pictures/2012/graphique-nb-issues.jpg" title="Evolution du nombre de bugs" style="width: 200px; float: left;"/>
<p style="clear: both;"></p></p>

<h3>Choix des métriques</h3>

<p>Le choix des métriques est primordial : cela influe sur le ressenti de la qualité par l&#39;équipe qui développe le produit. (<a href="http://martijndevrieze.net/2012/05/30/test-automation-metrics-what-do-you-report-on/">Test automation metrics - what do you report on?</a>)</p>

<h4>Mise à jour des métriques</h4>

<ul>
<li>En début de projet, la pertinence du &quot;nombre&quot; de bugs est relative. Quand le projet a déjà été livré dans une version beta au public, ce nombre est déjà plus réaliste.</li>
<li>Les tests de charge sont importants tout le temps, mais il ne faut jamais oublier le stade d&#39;avancement du projet. Un test de charge qui semble échouer peut ne pas l&#39;être si on le fait durant une &quot;maintenance programmée&quot; du serveur.</li>
</ul>

<p>Certains pensent qu&#39;il vaut mieux avoir trop de métriques que pas assez. Mais il faut pondérer ceci par le temps pour les analyser et les comprendre.</p>

<h4>Stratégie générale</h4>

<p>De la même façon, la remise en cause des stratégies de tests doit être régulière. Il est nécessaire de vérifier régulièrement que les tests testent bien, sont stables, détectent bien les vrais bugs.</p>
</div>
  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page6">Older</a>
  
  
    
      <a class="pagination-item newer" href="/page4">Newer</a>
    
  
</div>

    </div>

  <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
  <script type="text/javascript" src="/public/fancybox/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/public/js/script.js"></script>
  </body>
</html>
