<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr-fr" itemscope="" itemtype="http://schema.org/Blog">
  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <meta name="description" content="Blog sur la qualité web en général, et l'automatisation de test web en particulier. Responsable tests et qualité web depuis 7 ans." />
  <meta name="keywords" content="test, watir, qualité, cucumber, jenkins, bug, selenium, appium, bournisien" />
  <meta name="robots" content="index,follow" />

  <title>
    
      Je teste donc je suis &middot; Journal d'un testeur
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700">

  <!-- Icons --
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">-->
  <link rel="shortcut icon" type="image/png" href="/public/qualite.jpg">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <link rel="stylesheet" href="/public/fancybox/jquery.fancybox.css" type="text/css" media="screen" />

  <meta property="og:image"  content="/public/pictures/web-qualite.jpg"/>
  <meta itemprop="image"     content="/public/pictures/web-qualite.jpg" />
  <meta name="twitter:image" content="/public/pictures/web-qualite.jpg" />  
</head>

  <body class="theme-base-0c layout-reverse">
    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Je teste donc je suis
        </a>
      </h1>
      <p class="lead">Blog d'un automatiseur de tests web.</p>
    </div>

    <nav class="sidebar-nav">
      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/archive/">Archive</a>
          
        
      
        
      
        
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
	  <a class="sidebar-nav-item" href="http://www.fabricebournisien.eu">CV</a>
	  <!-- SiteSearch Google --> 
	  <form method="get" action="http://www.google.com/search"> 
		<input type="hidden" name="ie" value="UTF-8" /> 
		<input type="hidden" name="oe" value="UTF-8" /> 
		<input type="hidden" name="domains" value="blog.fabricebournisien.eu" /> 
		<input type="hidden" name="sitesearch" value="blog.fabricebournisien.eu" checked="checked" />
		<input type="text" name="q" size="18" maxlength="255" value="" />
		<input type="submit" name="btnG" value="Chercher" /> 
	  </form>
	  <!-- SiteSearch Google -->
    </nav>

    <p>&copy; 2014 - <a href="https://plus.google.com/104493142924184161356" rel="author">Fabrice Bournisien</a></p>
  </div>
</div>

    <div class="content container">
      <div class="posts">
  
  <div class="post" itemscope="" itemtype="http://schema.org/BlogPosting">
    <h2 class="post-title" itemprop="name">
      <a href="/2013/11/05/comment-j-ai-change-de-travail-sans-bouger-de-ma-chaise/" itemprop="url" rel="bookmark">
        Comment j'ai changé de travail sans bouger de ma chaise
      </a>
    </h2>

	<span class="post-date">
		<time class="date" datetime="2013-11-05" itemprop="datePublished">
			05/11/2013
		</time>
		- par Fabrice Bournisien
		
		- <a href="/tag/boulot">Boulot</a>
		
	</span>

	<div itemprop="ArticleBody"><p>Cela fait plusieurs années que j&#39;assure la qualité d&#39;overblog.com :</p>

<ul>
<li>Tests et validation &quot;manuel&quot; pendant des années,</li>
<li>Gestion du support utilisateur par forum ou par mail,</li>
<li>Mise en place des tests fonctionnels automatiques,</li>
<li>Mise en place des changelog,</li>
<li>Rôle de proxy Product Owner lorsque l&#39;équipe est passé à Scrum,</li>
<li>A l&#39;occasion, j&#39;ai aussi développé des fonctionnalités sur le projet lui-même,</li>
<li>Et plein d&#39;autres petites tâches pour assurer la qualité en général...</li>
</ul>

<p>En début d&#39;année, lors de mon entretien annuel avec ma hiérarchie, j&#39;ai sous-entendu que je commençais à &quot;m&#39;ennuyer&quot; : je n&#39;avais plus assez de défis à me mettre sous la dent.</p>

<p>J&#39;ai aussi demandé des rendez-vous à quelques reprises avec mon &quot;n+2&quot;, pour lui exposer des problèmes d&#39;organisation, et aussi mon ressenti sur le produit et sa qualité. (Je n&#39;aime pas l&#39;appeler mon &quot;n+2&quot;, mais c&#39;est plus simple pour en parler ici. Il mérite beaucoup plus que cela : il est à l&#39;écoute, et chaque fois je sors de réunion &quot;prêt à en découdre&quot;.)</p>

<p><img src="/public/pictures/2013/les-aventuriers-de-l-arche-perdue.jpg" alt="Comment j&#39;ai changé de travail sans bouger de ma chaise"></p>

<h3>A la recherche du Graal de l&#39;emploi</h3>

<p>A ce moment-là, j&#39;ai mis à jour mon CV, mes informations sur les réseaux, et je suis passé en mode veille &quot;un peu plus active&quot; sur l&#39;emploi dans mon domaine.</p>

<p>J&#39;ai rapidement découvert plusieurs choses :</p>

<ul>
<li>J&#39;ai acquis au sein de ma société une autorité &quot;naturelle&quot; dans le domaine de la Qualité, et des tests.</li>
<li>J&#39;ai une autonomie très importante pour faire mon travail, et j&#39;aime ça !</li>
<li>Les postes dédiées à la qualité et/ou aux tests ne courent pas les rues</li>
<li>Certains postes dans le domaine ne me conviennent pas</li>
<li>Se limiter à une région géographique limite encore plus les offres</li>
</ul>

<p>J&#39;ai du coup pensé à changer de carrière pour rester dans ma région, mais je n&#39;avais pas envie de redevenir développeur &quot;lambda&quot; (et qu&#39;on ne me parle pas de chef de projet). Je me suis même demandé pourquoi je restais dans l&#39;informatique (quand je dis que je ratisse, je ratisse large).</p>

<p>Au printemps, j&#39;allais au travail avec un peu moins d&#39;entrain, et avec le recul, je me suis aperçu que je me faisais des montagnes de certains petits tracas sans importance. Mais hors de question pour moi de partir sans savoir où aller.</p>

<p><img src="/public/pictures/2013/vecurent-heureux-quality.jpg" alt="Comment j&#39;ai changé de travail sans bouger de ma chaise"></p>

<h3>Le casse du siècle ?</h3>

<p>Et puis, au début de l&#39;été, on m&#39;a fait une proposition intéressante :
* Mettre en place des tests automatiques sur des projets web
* Travailler en binôme avec quelqu&#39;un déjà en place
* Travailler sur 5 ou 6 projets web distincts (mais ayant des parties communes)
* Toucher à des domaines que je ne maîtrise pas : faire des tests sur du flash ou des applications mobiles, de beaux défis !
* Accompagner les équipes techniques pour améliorer la Qualité
Ce poste paraissait trop beau pour être vrai, mais il était pourtant parfait pour moi. OverBlog fait partie du groupe Ebuzzing depuis plusieurs années. Ebuzzing diffuse un certains nombre de projets. Depuis cet été, j&#39;assure maintenant la qualité de tous ces projets.</p>

<p><img src="/public/pictures/2013/evaluation.jpg" alt="Ils vécurent heureux et eurent beaucoup de tests"></p>

<h3>Ils vécurent heureux et eurent beaucoup d&#39;enfants</h3>

<p>Depuis, j&#39;ai un nouveau travail.</p>

<ul>
<li>Je n&#39;ai pas changé de bureau. Je suis toujours assis au même endroit, avec mes habitudes.</li>
<li>Mon &quot;n+2&quot; est toujours le même. Pour moi, c&#39;est vraiment une bonne chose : j&#39;ai appris à l&#39;apprécier, et à le respecter depuis longtemps.</li>
<li>Je n&#39;ai pas changé de collègues, mais la liste des collègues avec qui je travaille s&#39;est allongée.</li>
<li>Si depuis longtemps je codais &quot;propre&quot; et réutilisable sans même avoir besoin de le faire, depuis cet été je le met en pratique. Le temps &quot;perdu&quot; pour cela a &quot;enfin&quot; été rentabilisé.</li>
<li>Travailler en binôme est stimulant. Il ne se passe pas une semaine sans qu&#39;une idée de l&#39;un de nous fasse rebondir l&#39;autre pour affronter un problème particulier.</li>
<li>Former mon binôme à mes méthodes de travail est intéressant. Il me permet de voir que certains choix ne sont pas forcément pertinents et logiques. Au bout de 4 mois, j&#39;ai déjà repéré plusieurs fois que l&#39;un finissait la phrase de l&#39;autre : juste parfait à mes yeux.</li>
<li>Pouvoir chaque jour travailler sur un projet différent est génial : je n&#39;ai plus de routine (les habitudes sont ma hantise)</li>
<li>Même si mon autonomie n&#39;est pas aussi importante qu&#39;avant, j&#39;en ai quand même beaucoup. C&#39;est plus que suffisant. (je connais beaucoup de gens qui voudraient avoir la moitié de celle que j&#39;ai)</li>
</ul>

<p><img src="/public/pictures/2013/keep-quality.jpg" alt="Keep calm and pick quality" title="Keep quality"></p>
</div>
  </div>
  
  <div class="post" itemscope="" itemtype="http://schema.org/BlogPosting">
    <h2 class="post-title" itemprop="name">
      <a href="/2013/10/17/bug-de-l-espace-temps/" itemprop="url" rel="bookmark">
        Bug de l'espace temps
      </a>
    </h2>

	<span class="post-date">
		<time class="date" datetime="2013-10-17" itemprop="datePublished">
			17/10/2013
		</time>
		- par Fabrice Bournisien
		
		- <a href="/tag/bug">Bug</a>
		
	</span>

	<div itemprop="ArticleBody"><p>Dans notre outil, nous utilisons le langage twig. Cela permet une grande flexibilité, et d&#39;avoir un moteur déjà bien robuste.</p>

<p>Prenons par exemple l&#39;affichage d&#39;une date avec ce code :</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">Post</span><span class="o">.</span><span class="no">Date</span><span class="o">|</span><span class="n">datel</span><span class="p">(</span><span class="no">Lang</span><span class="o">.</span><span class="no">Get</span><span class="p">(</span><span class="s2">"Default date format"</span><span class="p">))</span>
</code></pre></div>
<p>Notre outil étant mutli langue, et les formats de date changeant avec la langue, nous utilisons une locale. En pratique, il s&#39;agit d&#39;une chaîne de caractères indiquant le format.</p>

<p>On pourrait avoir HH:mm pour l&#39;heure par exemple.</p>

<p>Dans l&#39;analyse du bug du jour, nous avons un signalement de date fausse sur certaines pages. Après vérifications nous trouvons une page datant du 3 janvier 2010, mais qui est affichée comme étant le 3 janvier 2009.</p>

<p>L&#39;enquête se poursuit en vérifiant les dates des autres pages : la quasi totalité des pages affichent une date juste. On finit par regrouper les pages à problèmes suivant le critères : certaines pages de début janvier de certaines années (mais pas toutes).</p>

<p>Le collègue qui cherchait a trouvé le problème.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">Default</span> <span class="n">date</span> <span class="nb">format</span> <span class="o">=</span> <span class="no">MMMM</span> <span class="n">d</span> <span class="no">Y</span>
</code></pre></div>
<p>Dans la documentation de datel, Y = year of &quot;Week of Year&quot;. Il s&#39;agit de l&#39;année durant laquelle le week end du jour en question a eu lieu.</p>

<p>Il s&#39;agit donc d&#39;un bug visible pour les premiers jours de janvier pour lesquels la semaine commençait l&#39;année d&#39;avant. Tordu non ?</p>

<p>Pour la petite histoire, le code corrigé sans bug donne :</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">Default</span> <span class="n">date</span> <span class="nb">format</span> <span class="o">=</span> <span class="no">MMMM</span> <span class="n">d</span> <span class="n">yyyy</span>
</code></pre></div></div>
  </div>
  
  <div class="post" itemscope="" itemtype="http://schema.org/BlogPosting">
    <h2 class="post-title" itemprop="name">
      <a href="/2013/06/17/affichage-des-resultats-de-tests/" itemprop="url" rel="bookmark">
        Affichage des résultats de tests
      </a>
    </h2>

	<span class="post-date">
		<time class="date" datetime="2013-06-17" itemprop="datePublished">
			17/06/2013
		</time>
		- par Fabrice Bournisien
		
		- <a href="/tag/test">Test</a>
		
		- <a href="/tag/jenkins">Jenkins</a>
		
	</span>

	<div itemprop="ArticleBody"><p>Lorsqu&#39;on teste avec jenkins, cucumber et watir, on obtient des rapports détaillés, qu&#39;il faut lire et analyser en permanence.</p>

<p>Depuis plusieurs mois, nous avons dans nos locaux une télé dédiée à l&#39;affichage de l&#39;état général de l&#39;ensemble de nos tests. Pour cela, le plugin Jenkins Wall Display nous a suffit dans un premier temps. Nous affichons sur la télé une page web qui fait défiler</p>

<p>Au total, sur ces écrans, nous affichons le résumé :</p>

<ul>
<li>Plus de 1 300 test php unit (et leur 5 000 assertions)</li>
<li>Près de 500 tests unitaires JS</li>
<li>Plus de 950 scénarios cucumber pour les tests fonctionnels.</li>
</ul>

<p>En outre, nous affichons aussi quelques graphiques sensibles de l&#39;état de la production : nombre de compte crées, etc..
On a beau regrouper toutes ces informations, il arrive un moment où l&#39;affichage n&#39;est plus lisible.</p>

<p><img src="/public/pictures/2013/screen-avant.jpg" alt="Exemple avec les tests fonctionnels" title="Affichage avant les travaux"></p>

<p>Le constat est moins alarmant pour les tests unitaires. Les chiffres exposent bien pourquoi :</p>

<ul>
<li>Tests fonctionnels : 40 jobs jenkins * 3 navigateurs</li>
<li>Tests unitaires : 18 jobs jenkins * 2 environnement</li>
</ul>

<h3>Comment afficher proprement les résultats</h3>

<p>Je suis parti en quête d&#39;une solution pour afficher tous nos résultats proprement, avec quelques contraintes :</p>

<ul>
<li>Je préférais afficher tous les résultats sur un seul écran par type de tests</li>
<li>Je veux pouvoir afficher un résumé ( x tests KO / x tests total)</li>
<li>Je veux pouvoir séparer facilement les affichages d&#39;un même type de tests (par navigateur / environnement)</li>
</ul>

<p>Ma quête fut longue et semée d&#39;embûches :</p>

<ul>
<li>Tentative d&#39;utilisation de l&#39;API, mais c&#39;était déjà trop lent alors que je ne calculais / affichais pas la moitié de ce que je voulais (45 secondes environ)</li>
<li>Plusieurs plugin jenkins, mais aucun ne permettant ce que je veux</li>
<li>Un Plugin jenkins faisant la moitié de ce que je voulais, mais complètement bugué</li>
</ul>

<h3>Mon premier plugin jenkins</h3>

<p>Je suis donc parti à l&#39;assaut de la documentation de jenkins pour coder un plugin fait-maison qui ferait exactement ce que je voudrais.</p>

<p>Ce que j&#39;ai bien aimé dans cette création :</p>

<ul>
<li>Tout en java. Je n&#39;avais pas codé en java depuis 10 ans je pense, et j&#39;ai perdu, mais vite repris mes repères.</li>
<li>Bosser sur un plugin que je pourrais diffuser en open-source à la fin :)</li>
<li>La possibilité de faire exactement ce que je veux, sans être limité par un plugin déjà fait.</li>
</ul>

<p>Ce que je n&#39;ai pas aimé :</p>

<ul>
<li>La documentation : elle existe, elle semble complète. Mais je trouve l&#39;organisation moyennement bonne. J&#39;ai plusieurs fois été à la recherche d&#39;exemple de code pour trouver la fonction dont j&#39;avais besoin, que je ne trouvais pas dans la doc.</li>
<li>L&#39;installation de maven qui marche du premier coup sur un de mes postes, mais se passe mal sur l&#39;autre.</li>
</ul>

<h3>Au final, ça donne quoi ?</h3>

<p>J&#39;ai donc un plugin qui permet de créer une nouvelle &quot;View&quot;. On peut y configurer :</p>

<ul>
<li>Les noms des colonnes, et la façon de filtrer les jobs dans chaque colonne, par des expression régulières.</li>
<li>Affichage dans chaque colonne du temps pris pour ces tests, du nombre de scénarios en échec et du nombre total de scénarios. (Afficher le nombre de jobs est beaucoup plus simple, mais donne beaucoup moins d&#39;informations : un job en échec pour 1 / 34 est moins grave qu&#39;un test avec 4 / 4 erreurs)</li>
<li>Affichage de la liste des jobs en échec (avec le nombre de scénarios)</li>
<li>Une colonne à part, qui affiche le temps total sur jenkins (master + slave)</li>
<li>Une liste de jobs spéciaux (dans mon cas : ceux qui lancent les autres, la génération de la doc...)</li>
</ul>

<p>Le plugin est sur github : <a href="https://github.com/fabrice31/CucumberJenkins">https://github.com/fabrice31/CucumberJenkins</a></p>

<p>Et maintenant ?</p>

<p>J&#39;ai configuré le plugin pour fonctionner avec cucumber, puisque je suis au coeur des tests fonctionnels. Il faut maintenant que je me débrouille pour que cet affichage fonctionne aussi bien avec tests php unit (séparés par des regexp par environnement cette fois)</p>

<p><img src="/public/pictures/2013/screen-apres.jpg" alt="Affichage de résultats cucumber" title="Affichage apres les travaux">
<img src="/public/pictures/2013/screen-config.jpg" alt="Plugin jenkins affichage de résultats cucumber" title="Configuration du plugin"></p>
</div>
  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page3">Older</a>
  
  
    
      <a class="pagination-item newer" href="/">Newer</a>
    
  
</div>

    </div>

  <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
  <script type="text/javascript" src="/public/fancybox/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/public/js/script.js"></script>
  </body>
</html>
